(self.webpackChunkmf_courses=self.webpackChunkmf_courses||[]).push([[2568],{2568:(m,_,n)=>{n.r(_),n.d(_,{CourseComponent:()=>M});var a=n(2581),r=n(3970),t=n(8043),u=n(4864),d=n(3496);function s(o,l){if(1&o&&t.\u0275\u0275element(0,"img",4),2&o){const e=t.\u0275\u0275nextContext().ngIf;t.\u0275\u0275property("src",e.course.iconUrl,t.\u0275\u0275sanitizeUrl)}}function i(o,l){if(1&o&&(t.\u0275\u0275elementStart(0,"tr",7)(1,"td",8),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"td",9),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"td",10),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd()()),2&o){const e=l.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.seqNo),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.description),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.duration)}}function O(o,l){if(1&o&&(t.\u0275\u0275elementStart(0,"table",5)(1,"thead")(2,"th"),t.\u0275\u0275text(3,"#"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"th"),t.\u0275\u0275text(5,"Description"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"th"),t.\u0275\u0275text(7,"Duration"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(8,i,7,3,"tr",6),t.\u0275\u0275elementEnd()),2&o){const e=t.\u0275\u0275nextContext().ngIf;t.\u0275\u0275advance(8),t.\u0275\u0275property("ngForOf",e.lessons)}}function h(o,l){if(1&o&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",1)(2,"h2"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,s,1,1,"img",2),t.\u0275\u0275template(5,O,9,1,"table",3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&o){const e=l.ngIf;t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(null==e.course?null:e.course.description),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.course),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.lessons.length)}}let M=(()=>{class o{constructor(e,p){this.route=e,this.coursesService=p}ngOnInit(){const e=parseInt(this.route.snapshot?.paramMap.get("courseId")??""),p=this.coursesService.loadCourseById(e).pipe((0,r.startWith)(null)),P=this.coursesService.loadAllCourseLessons(e).pipe((0,r.startWith)([]));this.data$=(0,r.combineLatest)([p,P]).pipe((0,r.map)(([f,v])=>({course:f,lessons:v})),(0,r.tap)(console.log))}}return o.\u0275fac=function(e){return new(e||o)(t.\u0275\u0275directiveInject(u.ActivatedRoute),t.\u0275\u0275directiveInject(d.N))},o.\u0275cmp=t.\u0275\u0275defineComponent({type:o,selectors:[["app-course"]],standalone:!0,features:[t.\u0275\u0275StandaloneFeature],decls:2,vars:3,consts:[[4,"ngIf"],[1,"course"],["class","course-thumbnail","alt","",3,"src",4,"ngIf"],["class","lessons-table mat-elevation-z7",4,"ngIf"],["alt","",1,"course-thumbnail",3,"src"],[1,"lessons-table","mat-elevation-z7"],["class","lesson-row",4,"ngFor","ngForOf"],[1,"lesson-row"],[1,"seqno-cell"],[1,"description-cell"],[1,"duration-cell"]],template:function(e,p){1&e&&(t.\u0275\u0275template(0,h,6,3,"ng-container",0),t.\u0275\u0275pipe(1,"async")),2&e&&t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(1,1,p.data$))},dependencies:[a.CommonModule,a.NgForOf,a.NgIf,a.AsyncPipe],styles:[".course[_ngcontent-%COMP%]{text-align:center;max-width:390px;margin:0 auto}.course-thumbnail[_ngcontent-%COMP%]{width:150px;margin:20px auto 0;display:block}.description-cell[_ngcontent-%COMP%]{text-align:left;margin:10px auto}.duration-cell[_ngcontent-%COMP%]{text-align:center}.duration-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;font-size:20px}.lessons-table[_ngcontent-%COMP%]{min-height:360px;margin-top:10px}.search-bar[_ngcontent-%COMP%]{margin-top:20px}.lessons-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:60px}.lessons-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.12)}.lessons-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:20px;color:#0000008a}.lessons-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px}.search[_ngcontent-%COMP%]{margin-left:10px}.lesson-detail[_ngcontent-%COMP%]{margin-top:40px}"],changeDetection:0}),o})()},3496:(m,_,n)=>{n.d(_,{N:()=>u});var a=n(3970),r=n(8043),t=n(8475);let u=(()=>{class c{constructor(s){this.http=s}loadCourseById(s){return this.http.get(`/api/courses/${s}`).pipe((0,a.shareReplay)())}loadAllCourses(){return this.http.get("/api/courses").pipe((0,a.map)(s=>s.payload),(0,a.shareReplay)())}saveCourse(s,i){return this.http.put(`/api/courses/${s}`,i).pipe((0,a.shareReplay)())}searchLessons(s){return this.http.get("/api/lessons",{params:{filter:s,pageSize:"100"}}).pipe((0,a.map)(i=>i.payload),(0,a.shareReplay)())}loadAllCourseLessons(s){return this.http.get("/api/lessons",{params:{pageSize:"10000",courseId:s.toString()}}).pipe((0,a.map)(i=>i.payload),(0,a.shareReplay)())}}return c.\u0275fac=function(s){return new(s||c)(r.\u0275\u0275inject(t.HttpClient))},c.\u0275prov=r.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()}}]);