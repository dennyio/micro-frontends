(self.webpackChunkmf_courses=self.webpackChunkmf_courses||[]).push([[62],{7900:(S,d,o)=>{o.r(d),o.d(d,{SearchLessonsComponent:()=>M});var a=o(2581),u=o(1556),p=o(7288),_=o(8899),e=o(8043);let f=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["lesson"]],inputs:{lesson:"lesson"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:7,vars:5,consts:[[1,"lesson-detail"],["width","400","height","220","allowfullscreen","",3,"src"]],template:function(t,l){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h3"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"h5"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"iframe",1),e.\u0275\u0275pipe(6,"safeUrl"),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==l.lesson?null:l.lesson.description),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("Duration: ",null==l.lesson?null:l.lesson.duration,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("src",e.\u0275\u0275pipeBind1(6,3,"https://www.youtube.com/embed/"+(null==l.lesson?null:l.lesson.videoId)),e.\u0275\u0275sanitizeResourceUrl))},dependencies:[_.CommonsLibModule,_.SafeUrlPipe]}),n})();var g=o(3496),c=o(7528);function h(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",10),e.\u0275\u0275listener("click",function(){const x=e.\u0275\u0275restoreView(t).$implicit,C=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(C.openLesson(x))}),e.\u0275\u0275elementStart(1,"td",11),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td",12),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"td",13),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()()}if(2&n){const t=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.seqNo),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.description),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.duration)}}function s(n,r){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"table",8)(2,"thead")(3,"th"),e.\u0275\u0275text(4,"#"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"th"),e.\u0275\u0275text(6,"Description"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"th"),e.\u0275\u0275text(8,"Duration"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(9,h,7,3,"tr",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&n){const t=r.ngIf;e.\u0275\u0275advance(9),e.\u0275\u0275property("ngForOf",t)}}function i(n,r){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,s,10,1,"ng-container",7),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,1,t.searchResults$))}}function v(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",14),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.onBackToSearch())}),e.\u0275\u0275elementStart(1,"mat-icon"),e.\u0275\u0275text(2,"arrow_back_ios"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(3," Back to Search "),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"lesson",15)}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("lesson",t.activeLesson)}}let M=(()=>{class n{constructor(t){this.coursesService=t}ngOnInit(){}onSearch(t){this.searchResults$=this.coursesService.searchLessons(t)}openLesson(t){this.activeLesson=t}onBackToSearch(){this.activeLesson=null}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(g.N))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-search-lessons"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:13,vars:2,consts:[[1,"course"],[1,"search-bar"],["matInput","","placeholder","Type your search","autocomplete","off"],["searchInput",""],[1,"search","mat-raised-button","mat-primary",3,"click"],[4,"ngIf","ngIfElse"],["detail",""],[4,"ngIf"],[1,"lessons-table","mat-elevation-z7"],["class","lesson-row",3,"click",4,"ngFor","ngForOf"],[1,"lesson-row",3,"click"],[1,"seqno-cell"],[1,"description-cell"],[1,"duration-cell"],["mat-raised-button","",1,"back-btn","mat-raised-button","mat-primary",3,"click"],[3,"lesson"]],template:function(t,l){if(1&t){const m=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",0)(1,"h2"),e.\u0275\u0275text(2,"Search All Lessons"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"mat-form-field",1),e.\u0275\u0275element(4,"input",2,3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"button",4),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(m);const C=e.\u0275\u0275reference(5);return e.\u0275\u0275resetView(l.onSearch(C.value))}),e.\u0275\u0275elementStart(7,"mat-icon"),e.\u0275\u0275text(8,"search"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(9," Search "),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,i,3,3,"ng-container",5),e.\u0275\u0275template(11,v,5,1,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()}if(2&t){const m=e.\u0275\u0275reference(12);e.\u0275\u0275advance(10),e.\u0275\u0275property("ngIf",!l.activeLesson)("ngIfElse",m)}},dependencies:[a.CommonModule,a.NgForOf,a.NgIf,a.AsyncPipe,u.MatIconModule,u.MatIcon,p.MatInputModule,c.MatFormField,p.MatInput,f],styles:[".course[_ngcontent-%COMP%]{text-align:center;max-width:390px;margin:0 auto}.course-thumbnail[_ngcontent-%COMP%]{width:150px;margin:20px auto 0;display:block}.description-cell[_ngcontent-%COMP%]{text-align:left;margin:10px auto}.duration-cell[_ngcontent-%COMP%]{text-align:center}.duration-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;font-size:20px}.back-btn[_ngcontent-%COMP%]{margin-top:30px}.lessons-table[_ngcontent-%COMP%]{min-height:360px;margin-top:10px}.search-bar[_ngcontent-%COMP%]{margin-top:20px}.lessons-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:60px}.lessons-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.12)}.lessons-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:20px;color:#0000008a}.lessons-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px}.search[_ngcontent-%COMP%]{margin-left:10px}.lesson-row[_ngcontent-%COMP%]{cursor:pointer}.lesson-detail[_ngcontent-%COMP%]{margin-top:40px}"]}),n})()},3496:(S,d,o)=>{o.d(d,{N:()=>g});var a=o(3970),p=o(8043),e=o(8475);let g=(()=>{class c{constructor(s){this.http=s}loadCourseById(s){return this.http.get(`/api/courses/${s}`).pipe((0,a.shareReplay)())}loadAllCourses(){return this.http.get("/api/courses").pipe((0,a.map)(s=>s.payload),(0,a.shareReplay)())}saveCourse(s,i){return this.http.put(`/api/courses/${s}`,i).pipe((0,a.shareReplay)())}searchLessons(s){return this.http.get("/api/lessons",{params:{filter:s,pageSize:"100"}}).pipe((0,a.map)(i=>i.payload),(0,a.shareReplay)())}loadAllCourseLessons(s){return this.http.get("/api/lessons",{params:{pageSize:"10000",courseId:s.toString()}}).pipe((0,a.map)(i=>i.payload),(0,a.shareReplay)())}}return c.\u0275fac=function(s){return new(s||c)(p.\u0275\u0275inject(e.HttpClient))},c.\u0275prov=p.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()}}]);